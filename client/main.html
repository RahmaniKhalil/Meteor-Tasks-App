<head>
  <title>Task Manager App</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
</head>

<body>

  <nav class="red">
    <div class="container">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">TaskMan</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          {{#if currentUser}}
          <li class="nav-item">
            <a class="waves-effect waves-light btn red lighten-2" href="#addTask">Add task</a>
          </li>
          {{/if}}
          
          <li class="nav-item">
            {{> loginButtons}}
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <h3>Task Manager App</h3>
    {{#if currentUser}}
    <ul class="collection">
      {{#each tasks}}
        {{> task}}
      {{/each}}
    </ul>
    {{else}}
    <div class="card-panel red lighten-1">
          <span class="white-text">
           This is a tasks Manager App - You need to login in order to manage your tasks...
          </span>
    </div>
    {{/if}}

  </div>

{{> add}}

<script>
  $(document).ready(function(){
    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
  });
</script>
</body>


<template name="task">
  <li class="collection-item">
    {{text}} - Added by : <strong>{{username}}</strong>
    <a href="#" class="delete-task secondary-content"><i class="material-icons" style="color:#ef5350">close</i></a>
  </li>
</template>

<template name="add">
  <!-- Modal Structure -->
  <div id="addTask" class="modal">
    <div class="modal-content">
      <h4>Add Task</h4>
      <form class="add-form">
        <input type="text"  name="text" placeholder="add New Task ...">
      </form>
    </div>
  </div>
</template>
